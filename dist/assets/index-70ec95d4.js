import{ar as Ce,Y as xe,k as K,l as G,m as F,ae as Z,u as H,y as T,e as z,n as ee,as as ce,F as te,O as ae,K as ie,ai as k,L as Te,_ as ue,at as q,au as we,av as Ee,x as L,o as de,aw as Pe,p as s,t as U,ax as $e,ay as Se,az as ke,aA as Be,al as Oe,aB as Re,q as be,a1 as le,X as ze,ac as Ae,aC as Ve,aD as oe,z as Fe,aE as Le,I as De,V as Me,Q as Ue,am as Ie,an as Ke,aa as He,a9 as qe,D as We,H as M,J as B,U as Xe,i as Ye,a7 as je}from"./index-13efeb1f.js";import{E as Je}from"./card-d07a188a.js";import{E as Qe}from"./link-a51ea4d5.js";import{m as ve,t as se,E as I,U as me}from"./typescript-0560ab07.js";import{c as R}from"./strings-69e3f623.js";import{f as Ge}from"./vnode-7de44134.js";const Ze=(e,n,m)=>Ge(e.subTree).filter(t=>{var a;return xe(t)&&((a=t.type)==null?void 0:a.name)===n&&!!t.component}).map(t=>t.component.uid).map(t=>m[t]).filter(t=>!!t),et=(e,n)=>{const m={},p=Ce([]);return{children:p,addChild:a=>{m[a.uid]=a,p.value=Ze(e,n,m)},removeChild:a=>{delete m[a],p.value=p.value.filter(E=>E.uid!==a)}}},W=Symbol("tabsRootContextKey"),tt=K({tabs:{type:G(Array),default:()=>ve([])}}),fe="ElTabBar",at=F({name:fe}),st=F({...at,props:tt,setup(e,{expose:n}){const m=e,p=q(),i=Z(W);i||se(fe,"<el-tabs><el-tab-bar /></el-tabs>");const t=H("tabs"),a=T(),E=T(),d=()=>{let u=0,f=0;const b=["top","bottom"].includes(i.props.tabPosition)?"width":"height",r=b==="width"?"x":"y",O=r==="x"?"left":"top";return m.tabs.every($=>{var P,l;const y=(l=(P=p.parent)==null?void 0:P.refs)==null?void 0:l[`tab-${$.uid}`];if(!y)return!1;if(!$.active)return!0;u=y[`offset${R(O)}`],f=y[`client${R(b)}`];const N=window.getComputedStyle(y);return b==="width"&&(m.tabs.length>1&&(f-=Number.parseFloat(N.paddingLeft)+Number.parseFloat(N.paddingRight)),u+=Number.parseFloat(N.paddingLeft)),!1}),{[b]:`${f}px`,transform:`translate${R(r)}(${u}px)`}},_=()=>E.value=d();return z(()=>m.tabs,async()=>{await ee(),_()},{immediate:!0}),ce(a,()=>_()),n({ref:a,update:_}),(u,f)=>(te(),ae("div",{ref_key:"barRef",ref:a,class:ie([k(t).e("active-bar"),k(t).is(k(i).props.tabPosition)]),style:Te(E.value)},null,6))}});var nt=ue(st,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const lt=K({panes:{type:G(Array),default:()=>ve([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ot={tabClick:(e,n,m)=>m instanceof Event,tabRemove:(e,n)=>n instanceof Event},re="ElTabNav",rt=F({name:re,props:lt,emits:ot,setup(e,{expose:n,emit:m}){const p=q(),i=Z(W);i||se(re,"<el-tabs><tab-nav /></el-tabs>");const t=H("tabs"),a=we(),E=Ee(),d=T(),_=T(),u=T(),f=T(),b=T(!1),r=T(0),O=T(!1),$=T(!0),P=L(()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height"),l=L(()=>({transform:`translate${P.value==="width"?"X":"Y"}(-${r.value}px)`})),y=()=>{if(!d.value)return;const c=d.value[`offset${R(P.value)}`],v=r.value;if(!v)return;const o=v>c?v-c:0;r.value=o},N=()=>{if(!d.value||!_.value)return;const c=_.value[`offset${R(P.value)}`],v=d.value[`offset${R(P.value)}`],o=r.value;if(c-o<=v)return;const C=c-o>v*2?o+v:c-v;r.value=C},A=async()=>{const c=_.value;if(!b.value||!u.value||!d.value||!c)return;await ee();const v=u.value.querySelector(".is-active");if(!v)return;const o=d.value,C=["top","bottom"].includes(i.props.tabPosition),x=v.getBoundingClientRect(),g=o.getBoundingClientRect(),S=C?c.offsetWidth-g.width:c.offsetHeight-g.height,w=r.value;let h=w;C?(x.left<g.left&&(h=w-(g.left-x.left)),x.right>g.right&&(h=w+x.right-g.right)):(x.top<g.top&&(h=w-(g.top-x.top)),x.bottom>g.bottom&&(h=w+(x.bottom-g.bottom))),h=Math.max(h,0),r.value=Math.min(h,S)},D=()=>{var c;if(!_.value||!d.value)return;e.stretch&&((c=f.value)==null||c.update());const v=_.value[`offset${R(P.value)}`],o=d.value[`offset${R(P.value)}`],C=r.value;o<v?(b.value=b.value||{},b.value.prev=C,b.value.next=C+o<v,v-C<o&&(r.value=v-o)):(b.value=!1,C>0&&(r.value=0))},he=c=>{const v=c.code,{up:o,down:C,left:x,right:g}=I;if(![o,C,x,g].includes(v))return;const S=Array.from(c.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),w=S.indexOf(c.target);let h;v===x||v===o?w===0?h=S.length-1:h=w-1:w<S.length-1?h=w+1:h=0,S[h].focus({preventScroll:!0}),S[h].click(),ne()},ne=()=>{$.value&&(O.value=!0)},X=()=>O.value=!1;return z(a,c=>{c==="hidden"?$.value=!1:c==="visible"&&setTimeout(()=>$.value=!0,50)}),z(E,c=>{c?setTimeout(()=>$.value=!0,50):$.value=!1}),ce(u,D),de(()=>setTimeout(()=>A(),0)),Pe(()=>D()),n({scrollToActiveTab:A,removeFocus:X}),z(()=>e.panes,()=>p.update(),{flush:"post",deep:!0}),()=>{const c=b.value?[s("span",{class:[t.e("nav-prev"),t.is("disabled",!b.value.prev)],onClick:y},[s(U,null,{default:()=>[s($e,null,null)]})]),s("span",{class:[t.e("nav-next"),t.is("disabled",!b.value.next)],onClick:N},[s(U,null,{default:()=>[s(Se,null,null)]})])]:null,v=e.panes.map((o,C)=>{var x,g,S,w;const h=o.uid,Y=o.props.disabled,j=(g=(x=o.props.name)!=null?x:o.index)!=null?g:`${C}`,J=!Y&&(o.isClosable||e.editable);o.index=`${C}`;const ye=J?s(U,{class:"is-icon-close",onClick:V=>m("tabRemove",o,V)},{default:()=>[s(ke,null,null)]}):null,ge=((w=(S=o.slots).label)==null?void 0:w.call(S))||o.props.label,Ne=!Y&&o.active?0:-1;return s("div",{ref:`tab-${h}`,class:[t.e("item"),t.is(i.props.tabPosition),t.is("active",o.active),t.is("disabled",Y),t.is("closable",J),t.is("focus",O.value)],id:`tab-${j}`,key:`tab-${h}`,"aria-controls":`pane-${j}`,role:"tab","aria-selected":o.active,tabindex:Ne,onFocus:()=>ne(),onBlur:()=>X(),onClick:V=>{X(),m("tabClick",o,j,V)},onKeydown:V=>{J&&(V.code===I.delete||V.code===I.backspace)&&m("tabRemove",o,V)}},[ge,ye])});return s("div",{ref:u,class:[t.e("nav-wrap"),t.is("scrollable",!!b.value),t.is(i.props.tabPosition)]},[c,s("div",{class:t.e("nav-scroll"),ref:d},[s("div",{class:[t.e("nav"),t.is(i.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:_,style:l.value,role:"tablist",onKeydown:he},[e.type?null:s(nt,{ref:f,tabs:[...e.panes]},null),v])])])}}}),ct=K({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:G(Function),default:()=>!0},stretch:Boolean}),Q=e=>ze(e)||Ae(e),it={[me]:e=>Q(e),tabClick:(e,n)=>n instanceof Event,tabChange:e=>Q(e),edit:(e,n)=>["remove","add"].includes(n),tabRemove:e=>Q(e),tabAdd:()=>!0};var ut=F({name:"ElTabs",props:ct,emits:it,setup(e,{emit:n,slots:m,expose:p}){var i,t;const a=H("tabs"),{children:E,addChild:d,removeChild:_}=et(q(),"ElTabPane"),u=T(),f=T((t=(i=e.modelValue)!=null?i:e.activeName)!=null?t:"0"),b=l=>{f.value=l,n(me,l),n("tabChange",l)},r=async l=>{var y,N,A;if(!(f.value===l||le(l)))try{await((y=e.beforeLeave)==null?void 0:y.call(e,l,f.value))!==!1&&(b(l),(A=(N=u.value)==null?void 0:N.removeFocus)==null||A.call(N))}catch{}},O=(l,y,N)=>{l.props.disabled||(r(y),n("tabClick",l,N))},$=(l,y)=>{l.props.disabled||le(l.props.name)||(y.stopPropagation(),n("edit",l.props.name,"remove"),n("tabRemove",l.props.name))},P=()=>{n("edit",void 0,"add"),n("tabAdd")};return Be({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},L(()=>!!e.activeName)),z(()=>e.activeName,l=>r(l)),z(()=>e.modelValue,l=>r(l)),z(f,async()=>{var l;await ee(),(l=u.value)==null||l.scrollToActiveTab()}),Oe(W,{props:e,currentName:f,registerPane:d,unregisterPane:_}),p({currentName:f}),()=>{const l=e.editable||e.addable?s("span",{class:a.e("new-tab"),tabindex:"0",onClick:P,onKeydown:A=>{A.code===I.enter&&P()}},[s(U,{class:a.is("icon-plus")},{default:()=>[s(Re,null,null)]})]):null,y=s("div",{class:[a.e("header"),a.is(e.tabPosition)]},[l,s(rt,{ref:u,currentName:f.value,editable:e.editable,type:e.type,panes:E.value,stretch:e.stretch,onTabClick:O,onTabRemove:$},null)]),N=s("div",{class:a.e("content")},[be(m,"default")]);return s("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:e.type==="card",[a.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[y,N]:[N,y]])}}});const dt=K({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),bt=["id","aria-hidden","aria-labelledby"],pe="ElTabPane",vt=F({name:pe}),mt=F({...vt,props:dt,setup(e){const n=e,m=q(),p=Ve(),i=Z(W);i||se(pe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=H("tab-pane"),a=T(),E=L(()=>n.closable||i.props.closable),d=oe(()=>{var r;return i.currentName.value===((r=n.name)!=null?r:a.value)}),_=T(d.value),u=L(()=>{var r;return(r=n.name)!=null?r:a.value}),f=oe(()=>!n.lazy||_.value||d.value);z(d,r=>{r&&(_.value=!0)});const b=Fe({uid:m.uid,slots:p,props:n,paneName:u,active:d,index:a,isClosable:E});return de(()=>{i.registerPane(b)}),Le(()=>{i.unregisterPane(b.uid)}),(r,O)=>k(f)?De((te(),ae("div",{key:0,id:`pane-${k(u)}`,class:ie(k(t).b()),role:"tabpanel","aria-hidden":!k(d),"aria-labelledby":`tab-${k(u)}`},[be(r.$slots,"default")],10,bt)),[[Me,k(d)]]):Ue("v-if",!0)}});var _e=ue(mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const ft=Ie(ut,{TabPane:_e}),pt=Ke(_e);const _t={class:"p-5"},ht=B("div",{class:"card-header"}," vue3 ts element plus table表格二次封装详细步骤。支持单元格内容、表头自定义渲染（支持使用作用域插槽、tsx 语法、h 函数） ",-1),yt={class:"mb-5"},gt=B("p",{class:"text-sm text-gray-500"},"也可以参考 @/components/table/doc.md 中的参数介绍",-1),Nt={class:"bg-gray-100 py-3 px-5 mt-4 rounded-md text-xs text-gray-500"},Ct={class:"flex items-center mb-1.5 text-sm text-primary-default"},xt=B("span",null,"master",-1),Tt=B("p",{class:"mb-1.5"},"template_phase_1.0分支： 使用 tempalte 封装, 最基本的功能，代码简单，方便自己扩展",-1),wt=B("p",{class:"mb-1.5"}," template_phase_2.0分支： 使用 tempalte 封装, 在1.0 基础上做了优化。在编码时更好的类型支持，支持原 element table 的属性和方法，并新增部分参数和事件。具体可查看文档 @/components/table/doc.md ",-1),Et=B("p",null,"master分支： 使用 h 函数封装，功能有搜索， 编辑单元格等",-1),Pt={class:"min-h-[500px]"},zt=F({__name:"index",setup(e){const[n,m]=[He(),qe()],p=n.name||"table.base",i=t=>{m.replace({name:t.paneName})};return(t,a)=>{const E=Qe,d=je,_=Je,u=pt,f=ft,b=We("router-view");return te(),ae("div",_t,[s(_,{class:"mb-5"},{header:M(()=>[ht]),default:M(()=>[B("div",yt,[s(E,{type:"primary",href:"https://blog.csdn.net/weixin_45291937/article/details/125523244",target:"_blank"},{default:M(()=>[Xe(" table基本封装 CSDN ")]),_:1})]),gt,B("div",Nt,[B("p",Ct,[s(d,{icon:"svg:branch",size:"20"}),xt]),Tt,wt,Et])]),_:1}),s(f,{modelValue:k(p),"onUpdate:modelValue":a[0]||(a[0]=r=>Ye(p)?p.value=r:null),class:"demo-tabs",onTabClick:i},{default:M(()=>[s(u,{label:"基本表格",name:"table.base"}),s(u,{label:"分页表格",name:"table.pagination"}),s(u,{label:"展开行",name:"table.expand"}),s(u,{label:"开启搜索",name:"table.search"}),s(u,{label:"多级表头",name:"table.groupHead"}),s(u,{label:"编辑单元格",name:"table.editCell"})]),_:1},8,["modelValue"]),B("div",Pt,[s(b)])])}}});export{zt as default};
