import{k as W,l as _,m as T,u as L,x as o,aP as A,aQ as Q,aR as j,aS as q,az as G,a2 as J,X as F,F as l,O as m,K as u,ai as t,J as y,L as b,q as N,R as B,Q as I,G as E,H as D,P as K,t as U,_ as X,am as Z,p as ee,s as O,a5 as x}from"./index-13efeb1f.js";import{E as te}from"./card-d07a188a.js";import{d as S,l as ae,_ as se}from"./index-b690c248.js";import"./input-0f4350cf.js";import"./typescript-0560ab07.js";import"./form-item-2f546e53.js";import"./strings-69e3f623.js";import"./config-provider-bc894cf8.js";const re=W({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:c=>c>=0&&c<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:_(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:_([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:_(Function),default:c=>`${c}%`}}),oe=["aria-valuenow"],ne={viewBox:"0 0 100 100"},le=["d","stroke","stroke-width"],ie=["d","stroke","opacity","stroke-linecap","stroke-width"],pe={key:0},ue=T({name:"ElProgress"}),de=T({...ue,props:re,setup(c){const a=c,w={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=L("progress"),$=o(()=>({width:`${a.percentage}%`,animationDuration:`${a.duration}s`,backgroundColor:C(a.percentage)})),g=o(()=>(a.strokeWidth/a.width*100).toFixed(1)),v=o(()=>["circle","dashboard"].includes(a.type)?Number.parseInt(`${50-Number.parseFloat(g.value)/2}`,10):0),s=o(()=>{const e=v.value,i=a.type==="dashboard";return`
          M 50 50
          m 0 ${i?"":"-"}${e}
          a ${e} ${e} 0 1 1 0 ${i?"-":""}${e*2}
          a ${e} ${e} 0 1 1 0 ${i?"":"-"}${e*2}
          `}),n=o(()=>2*Math.PI*v.value),d=o(()=>a.type==="dashboard"?.75:1),k=o(()=>`${-1*n.value*(1-d.value)/2}px`),V=o(()=>({strokeDasharray:`${n.value*d.value}px, ${n.value}px`,strokeDashoffset:k.value})),M=o(()=>({strokeDasharray:`${n.value*d.value*(a.percentage/100)}px, ${n.value}px`,strokeDashoffset:k.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),Y=o(()=>{let e;return a.color?e=C(a.percentage):e=w[a.status]||w.default,e}),R=o(()=>a.status==="warning"?A:a.type==="line"?a.status==="success"?Q:j:a.status==="success"?q:G),z=o(()=>a.type==="line"?12+a.strokeWidth*.4:a.width*.111111+2),P=o(()=>a.format(a.percentage));function H(e){const i=100/e.length;return e.map((p,h)=>F(p)?{color:p,percentage:(h+1)*i}:p).sort((p,h)=>p.percentage-h.percentage)}const C=e=>{var i;const{color:f}=a;if(J(f))return f(e);if(F(f))return f;{const p=H(f);for(const h of p)if(h.percentage>e)return h.color;return(i=p[p.length-1])==null?void 0:i.color}};return(e,i)=>(l(),m("div",{class:u([t(r).b(),t(r).m(e.type),t(r).is(e.status),{[t(r).m("without-text")]:!e.showText,[t(r).m("text-inside")]:e.textInside}]),role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[e.type==="line"?(l(),m("div",{key:0,class:u(t(r).b("bar"))},[y("div",{class:u(t(r).be("bar","outer")),style:b({height:`${e.strokeWidth}px`})},[y("div",{class:u([t(r).be("bar","inner"),{[t(r).bem("bar","inner","indeterminate")]:e.indeterminate},{[t(r).bem("bar","inner","striped")]:e.striped},{[t(r).bem("bar","inner","striped-flow")]:e.stripedFlow}]),style:b(t($))},[(e.showText||e.$slots.default)&&e.textInside?(l(),m("div",{key:0,class:u(t(r).be("bar","innerText"))},[N(e.$slots,"default",{percentage:e.percentage},()=>[y("span",null,B(t(P)),1)])],2)):I("v-if",!0)],6)],6)],2)):(l(),m("div",{key:1,class:u(t(r).b("circle")),style:b({height:`${e.width}px`,width:`${e.width}px`})},[(l(),m("svg",ne,[y("path",{class:u(t(r).be("circle","track")),d:t(s),stroke:`var(${t(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":t(g),fill:"none",style:b(t(V))},null,14,le),y("path",{class:u(t(r).be("circle","path")),d:t(s),stroke:t(Y),fill:"none",opacity:e.percentage?1:0,"stroke-linecap":e.strokeLinecap,"stroke-width":t(g),style:b(t(M))},null,14,ie)]))],6)),(e.showText||e.$slots.default)&&!e.textInside?(l(),m("div",{key:2,class:u(t(r).e("text")),style:b({fontSize:`${t(z)}px`})},[N(e.$slots,"default",{percentage:e.percentage},()=>[e.status?(l(),E(t(U),{key:1},{default:D(()=>[(l(),E(K(t(R))))]),_:1})):(l(),m("span",pe,B(t(P)),1))])],6)):I("v-if",!0)],10,oe))}});var ce=X(de,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const me=Z(ce);const fe=y("span",null,"可编辑单元格",-1),_e=T({__name:"editCell",setup(c){const a=[{name1:"张三",name2:"张三2",name3:"张三3",value:!0,value2:25,sex:1,date:1660737564e3,time:1660737564e3},{name1:"李四",name2:"李四2",name3:"李四3",value:!1,value2:88,sex:0,date:1462032e6,time:S().valueOf()}],r=[{prop:"name1",label:"输入框",editable:!0,align:"center",width:"200px"},{prop:"name2",label:"可校验输入框",editable:!0,editRule:!0,width:"200px"},{prop:"name3",label:"函数校验输入框",editable:!0,width:"200px",editRule:(s,n)=>{s?s==="1"?n(new Error("不能输入1，😊")):n():n(new Error("输入不能为空,试试输入“1”"))}},{prop:"sex",label:"下拉框",editable:!0,editRule:!0,width:"200px",editValueFormat:({value:s})=>O("span",s===1?"男":"女"),editOptions:{componentType:"Select",data:[{label:"男",value:1},{label:"女",value:0}],clearable:!0,placeholder:"请选择"}},{prop:"value",label:"开关",editable:!0,width:"200px",editValueFormat:({value:s})=>s?"开":"关",editOptions:{componentType:"Switch"}},{prop:"value2",label:"数字输入框",editable:!0,width:"200px",editValueFormat:({value:s})=>O(me,{percentage:s}),editOptions:{componentType:"InputNumber",min:0,max:100}},{prop:"date",label:"日期选择",editable:!0,editRule:!0,width:"220px",editValueFormat:({value:s})=>S(s).format("YYYY-MM-DD"),editOptions:{componentType:"DatePicker",format:"YYYY-MM-DD",valueFormat:"x",placeholder:"请选择"}},{prop:"time",label:"时间选择",editable:!0,width:"220px",editValueFormat:({value:s})=>S(s).format("HH:mm"),editOptions:{componentType:"TimePicker",format:"HH:mm",valueFormat:"x",placeholder:"请选择"}}],$=({row:s,value:n})=>(console.log("当前编辑行的数据准备提交",s),x.loading("正在保存，请稍后..."),new Promise(d=>{setTimeout(()=>{ae.isEmpty(n.toString())?(x.error("保存内容不能为空"),d(!1)):(x.success("保存成功"),d(!0))},2e3)})),g=({key:s})=>{console.log(`取消编辑了【${s}】`)},v=({key:s})=>{console.log(`成功编辑了【${s}】`)};return(s,n)=>{const d=se,k=te;return l(),E(k,null,{header:D(()=>[fe]),default:D(()=>[ee(d,{columns:r,"table-data":a,options:{beforeEditSubmit:$},onEditCancel:g,onEditEnd:v},null,8,["options"])]),_:1})}}});export{_e as default};
